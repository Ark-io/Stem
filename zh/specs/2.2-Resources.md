# 资源
在Karma网络中，将节点的功能抽象为资源。每个节点会拥有多种资源，每个资源使用路径进行区分，资源允许通过内部或者外部的方式被调用。

在Karma中使用CoAP作为通讯协议，在Karma中基于CoAP规定了节点资源的通讯模型。

> 注：CoAP协议 [RFC7252](https://tools.ietf.org/html/rfc7252)

## 路径
Karma中使用路径标识一个网络中的资源，路径的基础格式为`/<节点ID>/<资源路径>/<子资源路径1>/.../<子资源路径n>`。其中节点ID采用十六进制表示。

在Karma网络中，节点无论底层使用什么网络协议栈，均采用统一长度为40位十六进制表示。

## 资源访问模式
在Karma中，每个资源访问时都需要提供(类型，方法，路径)三元组来标识对一个资源的访问动作。

资源的访问模式取决与类型参数，若类型参数为`NON`，则表示请求者不关心请求是否到达远端节点。若类型参数为`CON`，则表示请求者关心远端的返回数据。此时的请求类似与HTTP协议的请求-响应模型。

## 数据格式
Karma网络中默认采用cbor格式序列化数据，对资源的请求与响应承载的数据结构推荐为cbor格式。

> 注：CBOR [RFC7049](https://tools.ietf.org/html/rfc7049)

## 资源转换模式
Karma网络支持四种方法参数用户指定一次请求的动作，分别为：
- GET用于获取资源数据
- POST用于增加资源
- PUT用于修改资源
- DELETE用于删除资源

## 与CoAP的区别
Karma网络的资源模型与CoAP协议本质上没有任何区别，除了会将CoAP地址中的节点ID自动解析为目标节点的真实地址，自动处理代理等。当应用层收到数据时仅仅包含payload部分，而其中头部分用于控制网络传输过程中的节点行为。
